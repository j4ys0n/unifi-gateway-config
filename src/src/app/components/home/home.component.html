<input #configPathInput
  class="long-input"
  placeholder="full config.gateway.json path"
  value="/home/jayson/Code/unifi-gateway-config/config.gateway.json">
<button mat-raised-button
  class="" color="primary"
  (click)="getConfig()">
  get config
</button>

<h3 class="mat-h3">NAT rules</h3>
<button mat-button
  (click)="newNatRule()">
  new NAT rule
</button>
<table mat-table #natTable [dataSource]="configNatDataSource">
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>description</th>
    <td mat-cell *matCellDef="let item">{{item.description}}</td>
  </ng-container>
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef>type</th>
    <td mat-cell *matCellDef="let item">{{item.type}}</td>
  </ng-container>
  <ng-container matColumnDef="protocol">
    <th mat-header-cell *matHeaderCellDef>protocol</th>
    <td mat-cell *matCellDef="let item">{{item.protocol}}</td>
  </ng-container>
  <ng-container matColumnDef="insideAddress">
    <th mat-header-cell *matHeaderCellDef>inside address</th>
    <td mat-cell *matCellDef="let item">{{
      (item.insideAddress) ? item.insideAddress.address : ''
    }}</td>
  </ng-container>
  <ng-container matColumnDef="outsideAddress">
    <th mat-header-cell *matHeaderCellDef>outside address</th>
    <td mat-cell *matCellDef="let item">{{
      (item.outsideAddress) ? item.outsideAddress.address : ''
    }}</td>
  </ng-container>
  <ng-container matColumnDef="source">
    <th mat-header-cell *matHeaderCellDef>source</th>
    <td mat-cell *matCellDef="let item">{{
      (item.source) ? item.source.address : ''
    }}</td>
  </ng-container>
  <ng-container matColumnDef="destination">
    <th mat-header-cell *matHeaderCellDef>destination</th>
    <td mat-cell *matCellDef="let item">{{
      (item.destination) ?
        (!!item.destination.port) ?
          item.destination.address + ':' + item.destination.port : item.destination.address : ''
    }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="natColumns"></tr>
  <tr mat-row
    *matRowDef="let item; columns: natColumns;"
    (click)="editNatRule(item)"></tr>
</table>

<h3 class="mat-h3">firewall rules</h3>
<button mat-button
  (click)="newFirewallRule()">
  new firewall rule
</button>
<table mat-table #firewallTable [dataSource]="configFirewallDataSource">
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>description</th>
    <td mat-cell *matCellDef="let item">{{item.description}}</td>
  </ng-container>
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef>action</th>
    <td mat-cell *matCellDef="let item">{{item.action}}</td>
  </ng-container>
  <ng-container matColumnDef="destination">
    <th mat-header-cell *matHeaderCellDef>destination</th>
    <td mat-cell *matCellDef="let item">{{
      (item.destination) ?
        (!!item.destination.port) ?
          item.destination.address + ':' + item.destination.port : item.destination.address : ''
    }}</td>
  </ng-container>
  <ng-container matColumnDef="protocol">
    <th mat-header-cell *matHeaderCellDef>protocol</th>
    <td mat-cell *matCellDef="let item">{{item.protocol}}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="firewallColumns"></tr>
  <tr mat-row
    *matRowDef="let item; columns: firewallColumns;"
    (click)="editFirewallRule(item)"></tr>
</table>
